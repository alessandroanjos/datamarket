<?xml version="1.0" encoding="ISO-8859-1" ?> 
<maquinaEstado>
  <listaMicroperacao>
    <operacao id="OpAVSolicitaUsuario" classe="com.infinity.datamarket.av.op.OpAVSolicitaUsuario"/>
    <operacao id="OpAVIniciaAV" classe="com.infinity.datamarket.av.op.OpAVIniciaAV"/>
    <operacao id="OpAVBloqueiaAV" classe="com.infinity.datamarket.av.op.OpAVBloqueiaAV"/>
    <operacao id="OpAVLeituraTipoOperacoa" classe="com.infinity.datamarket.av.op.OpAVLeituraTipoOperacoa"/>
    <operacao id="OpAvEncerraIniciaAv" classe="com.infinity.datamarket.av.op.OpAvEncerraIniciaAv"/>
    <operacao id="OpAVSolicitaCliente" classe="com.infinity.datamarket.av.op.OpAVSolicitaCliente"/>
    <operacao id="OpAVIniciaPedido" classe="com.infinity.datamarket.av.op.OpAVIniciaPedido"/>
    <operacao id="OpAVEncerraPedido" classe="com.infinity.datamarket.av.op.OpAVEncerraPedido"/>
    <operacao id="OpAvSaidaDois" classe="com.infinity.datamarket.av.op.OpAvSaidaDois"/>
    <operacao id="OpAvSaidaUm" classe="com.infinity.datamarket.av.op.OpAvSaidaUm"/>
    <operacao id="OpAvConsultaProduto" classe="com.infinity.datamarket.av.op.OpAvConsultaProduto"/>
    <operacao id="OpAvConsultaQuantidadeProduto" classe="com.infinity.datamarket.av.op.OpAvConsultaQuantidadeProduto"/>
    <operacao id="OpAVEncerraIcluirItem" classe="com.infinity.datamarket.av.op.OpAVEncerraIcluirItem"/>
    <operacao id="OpAvAdicionaItemPedido" classe="com.infinity.datamarket.av.op.OpAvAdicionaItemPedido"/>
    <operacao id="OpAvSolicitaDescontoValorProduto" classe="com.infinity.datamarket.av.op.OpAvSolicitaDescontoValorProduto"/>
    <operacao id="OpAvSolicitaValor" classe="com.infinity.datamarket.av.op.OpAvSolicitaValor"/>
  </listaMicroperacao>
  <listaEstado>
    <estado codigo="Fechado" descricao="Id Usuario" inputType="0" inputSize="0"/>
    <estado codigo="Aberto" descricao="Digite Operacao [1-P;2-D]" inputType="0" inputSize="0"/>
    <estado codigo="Pedido" descricao="Codigo do Produto" inputType="3" inputSize="13"/>
    <estado codigo="Devolucao" descricao="Devolucao" inputType="3" inputSize="1"/>
  </listaEstado>

  <listaTecla>
    <tecla codigo="ENTER" descricao="ENTER" codigoASCI="10" />
    <tecla codigo="P" descricao="P" codigoASCI="80" />
    <tecla codigo="D" descricao="D" codigoASCI="68" />
    <tecla codigo="TECLA4" descricao="ESPACO" codigoASCI="32" />
    <tecla codigo="ESC" descricao="ESC" codigoASCI="27" />
  </listaTecla>
  <listaMacroOperacao>
  
    <macroOperacao estadoAtual="Fechado" proximoEstado="Aberto" tecla="ENTER" codigoMicroOperacaoAssociada="subFluxo1" descricao="Abertura de AV">
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo1" operacao="OpAVIniciaAV">
 	    <saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo2" />
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo2" operacao="OpAVSolicitaUsuario">
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="saida" operacao="OpAvEncerraIniciaAv">
      </microOperacaoAssociada>
    </macroOperacao>

    <macroOperacao estadoAtual="Aberto" proximoEstado="Fechado" tecla="ESC" codigoMicroOperacaoAssociada="subFluxo1" descricao="Volta Fechado">
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo1" operacao="OpAvEncerraIniciaAv">
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="saida" operacao="OpAvSaidaUm">
      </microOperacaoAssociada>
    </macroOperacao>

    <macroOperacao estadoAtual="Aberto" proximoEstado="Pedido" tecla="P" codigoMicroOperacaoAssociada="subFluxo1" descricao="P">
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo1" operacao="OpAVIniciaPedido">
 	    <saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo2" />
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo2" operacao="OpAVSolicitaCliente">
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="saida" operacao="OpAVEncerraPedido">
      </microOperacaoAssociada>
    </macroOperacao>

    <macroOperacao estadoAtual="Pedido" proximoEstado="Aberto" tecla="ESC" codigoMicroOperacaoAssociada="subFluxo1" descricao="Volta Fechado">
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo1" operacao="OpAVEncerraPedido">
 	    <saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="saida" operacao="OpAvSaidaUm">
      </microOperacaoAssociada>
    </macroOperacao>

    <macroOperacao estadoAtual="Pedido" proximoEstado="Pedido" tecla="ENTER" codigoMicroOperacaoAssociada="subFluxo1" descricao="Venda Item">
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo1" operacao="OpAvConsultaProduto">
      	<saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo11" />
      	<saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo11" operacao="OpAvSolicitaValor">
      	<saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo2" />
      	<saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo2" operacao="OpAvConsultaQuantidadeProduto">
      	<saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo3" />
      	<saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo3" operacao="OpAvSolicitaDescontoValorProduto">
      	<saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      	<saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="subFluxo4" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="subFluxo4" operacao="OpAvAdicionaItemPedido">
      	<saidaMicroOperacaoAssociada tipoSaida="2" codigoMicroOperacaoAssociadaDestino="saida" />
      	<saidaMicroOperacaoAssociada tipoSaida="1" codigoMicroOperacaoAssociadaDestino="saida" />
      </microOperacaoAssociada>
      <microOperacaoAssociada codigoMicroOperacaoAssociada="saida" operacao="OpAVEncerraIcluirItem">
      </microOperacaoAssociada>
    </macroOperacao>
     
  </listaMacroOperacao>
</maquinaEstado>
