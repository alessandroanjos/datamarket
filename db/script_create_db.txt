

/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE ACUMULADOR_NAO_FISCAL (
    ID         INTEGER NOT NULL,
    DESCRICAO  VARCHAR(50) NOT NULL
);

CREATE TABLE AUTORIZADORA (
    ID         INTEGER NOT NULL,
    DESCRICAO  VARCHAR(50),
    DESAGIL    NUMERIC(9,2),
    SITUACAO   VARCHAR(1)
);

CREATE TABLE CLIENTE_TRANSACAO (
    NOME_CLIENTE         VARCHAR(100) NOT NULL,
    TIPO_PESSOA          CHAR(1) NOT NULL,
    CPF_CNPJ             VARCHAR(18) NOT NULL,
    RAZAO_SOCIAL         VARCHAR(100),
    INSCRICAO_ESTADUAL   VARCHAR(50),
    INSCRICAO_MUNICIPAL  VARCHAR(50),
    LOGRADOURO           VARCHAR(200),
    NUMERO               VARCHAR(20),
    COMPLEMENTO          VARCHAR(50),
    BAIRRO               VARCHAR(50),
    CIDADE               VARCHAR(50),
    ESTADO               VARCHAR(50),
    CEP                  VARCHAR(10),
    FONE                 VARCHAR(12),
    CELULAR              VARCHAR(12),
    PESSOA_CONTATO       VARCHAR(100),
    DATA_CADASTRO        TIMESTAMP NOT NULL,
    REFERENCIA_BANCARIA  VARCHAR(500),
    EMAIL                VARCHAR(50)
);

CREATE TABLE COMPONENTE (
    ID            	NUMERIC(18,0) NOT NULL,
    DESCRICAO     	VARCHAR(50),
    ID_LOJA       	NUMERIC(18,0),
    NUMERO_IP     	VARCHAR(50),
    TIPO_COMPONENTE	INTEGER,
    NUMERO_PORTA  	VARCHAR(50),
    VERSAO        	VARCHAR(50)
);

CREATE TABLE CONTROLE (
    CHAVE  VARCHAR(50) NOT NULL,
    VALOR  NUMERIC(18,0)
);


CREATE TABLE EVENTO_ITEM_PAG_CARTAO_OFF (
    LOJA              NUMERIC(9,0) NOT NULL,
    COMPONENTE        NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO     NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO    DATE NOT NULL,
    NUM_EVENTO        NUMERIC(9,0) NOT NULL,
    NUMERO_CARTAO     VARCHAR(50),
    QTD_PARCELAS      NUMERIC(9,0),
    AUTORIZACAO       VARCHAR(50),
    COD_AUTORIZADORA  VARCHAR(50)
);

CREATE TABLE EVENTO_ITEM_PAG_CARTAO_PROPRIO (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    NUM_EVENTO      NUMERIC(9,0) NOT NULL,
    AUTORIZACAO     VARCHAR(50)
);

CREATE TABLE EVENTO_ITEM_PAG_CHEQUE_PRE (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    NUM_EVENTO      NUMERIC(9,0) NOT NULL
);

CREATE TABLE EVENTO_ITEM_PAGAMENTO (
    LOJA              NUMERIC(9,0) NOT NULL,
    COMPONENTE        NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO     NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO    DATE NOT NULL,
    NUM_EVENTO        NUMERIC(9,0) NOT NULL,
    VALOR_BRUTO       NUMERIC(18,2) NOT NULL,
    VALOR_DESCONTO    NUMERIC(18,2),
    VALOR_ACRESCIMO   NUMERIC(18,2),
    FORMA_IMPRESSORA  VARCHAR(50),
    CODIGO_FORMA      NUMERIC(9,0) NOT NULL,
    CODIGO_PLANO      NUMERIC(9,0) NOT NULL
);

CREATE TABLE EVENTO_ITEM_PAGAMENTO_CHEQUE (
    LOJA                NUMERIC(9,0) NOT NULL,
    COMPONENTE          NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO       NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO      DATE NOT NULL,
    NUM_EVENTO          NUMERIC(9,0) NOT NULL,
    CPF_CNPJ            VARCHAR(50),
    NUMERO_CHEQUE_LIDO  VARCHAR(50),
    BANCO               VARCHAR(50),
    AGENCIA             VARCHAR(50),
    CONTA               VARCHAR(50),
    NUMERO_CHEQUE       VARCHAR(50)
);

CREATE TABLE EVENTO_ITEM_PAGAMENTO_TROCA (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    NUM_EVENTO      NUMERIC(9,0) NOT NULL,
    ID_OPERACAO     VARCHAR(50) NOT NULL
);

CREATE TABLE EVENTO_ITEM_REGISTRADO (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    NUM_EVENTO      NUMERIC(9,0) NOT NULL,
    QUANTIDADE      NUMERIC(18,3),
    DESCONTO        NUMERIC(18,2),
    PRECO           NUMERIC(18,2),
    SITUACAO        VARCHAR(50),
    LUCRO           NUMERIC(18,2)
);

CREATE TABLE EVENTO_OPERACAO (
    ID                NUMERIC(9,0) NOT NULL,
    LOJA              NUMERIC(9,0) NOT NULL,
    NUM_EVENTO        NUMERIC(9,0) NOT NULL,
    TIPO_EVENTO       NUMERIC(9,0) NOT NULL,
    DATA_HORA_EVENTO  DATE NOT NULL
);

CREATE TABLE EVENTO_OPERACAO_ITEM_REGISTRADO (
    ID          NUMERIC(9,0) NOT NULL,
    LOJA        NUMERIC(9,0) NOT NULL,
    NUM_EVENTO  NUMERIC(9,0) NOT NULL,
    PRECO       NUMERIC(18,2) NOT NULL,
    QUANTIDADE  NUMERIC(18,3) NOT NULL,
    DESCONTO    NUMERIC(18,2),
    LUCRO       NUMERIC(18,2)
);

CREATE TABLE EVENTO_TRANSACAO (
    LOJA              NUMERIC(9,0) NOT NULL,
    COMPONENTE        NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO     NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO    DATE NOT NULL,
    NUM_EVENTO        NUMERIC(9,0) NOT NULL,
    TIPO_EVENTO       NUMERIC(9,0) NOT NULL,
    DATA_HORA_EVENTO  TIMESTAMP
);

CREATE TABLE FORMA_RECEBIMENTO (
    ID                        NUMERIC(9,0) NOT NULL,
    DESCRICAO                 VARCHAR(50) NOT NULL,
    REC_IMPRESSORA            VARCHAR(50) NOT NULL,
    ABRIR_GAVETA              VARCHAR(1) NOT NULL,
    VALOR_LIMITE_SANGRIA      NUMERIC(9,0) NOT NULL,
    DATA_INICIO_VALIDADE      DATE,
    VALOR_MAX_TROCO           NUMERIC(18,2) NOT NULL,
    ID_FORMA_TROCO            NUMERIC(9,0),
    DATA_FIM_VALIDADE         DATE,
    VALIDA_PAGAMENTO_CONTA    CHAR(1),
    VALIDA_RECEBIMENTO_CONTA  CHAR(1)
);

CREATE TABLE FABRICANTE (
  ID                        INTEGER NOT NULL,
  NOME_FABRICANTE           VARCHAR(100),
  TIPO_PESSOA               CHAR(1) NOT NULL,
  CPF_CNPJ                  VARCHAR(18) NOT NULL,
  RAZAO_SOCIAL              VARCHAR(100),
  NOME_FANTASIA             VARCHAR(100),
  INSCRICAO_ESTADUAL        VARCHAR(50),
  INSCRICAO_MUNICIPAL       VARCHAR(50),
  LOGRADOURO                VARCHAR(200),
  NUMERO                    VARCHAR(20),
  COMPLEMENTO               VARCHAR(50),
  BAIRRO                    VARCHAR(50),
  CIDADE                    VARCHAR(50),
  ESTADO                    VARCHAR(50),
  CEP                       VARCHAR(10),
  FONE_RESIDENCIAL          VARCHAR(12),
  FONE_COMERCIAL            VARCHAR(12),
  FONE_CELULAR              VARCHAR(12),
  PESSOA_CONTATO            VARCHAR(100),
  FONE_CONTATO              VARCHAR(12),
  DATA_CADASTRO             DATE NOT NULL  
);

CREATE TABLE GRUPO_PRODUTO (
    ID                 NUMERIC(9,0) NOT NULL,
    DESCRICAO          VARCHAR(50),
    ID_GRUPO_SUPERIOR  NUMERIC(9,0)
);

CREATE TABLE IMPOSTO (
    ID              NUMERIC(9,0) NOT NULL,
    DESCRICAO       VARCHAR(50) NOT NULL,
    IMP_IMPRESSORA  VARCHAR(50) NOT NULL,
    PERCENTUAL      NUMERIC(18,2) NOT NULL
);

CREATE TABLE LOJA (
    ID                 NUMERIC(18,0) NOT NULL,
    NOME               VARCHAR(50),
    NUMERO_IP          VARCHAR(50),
    NUMERO_PORTA       VARCHAR(50),
    ID_ESTOQUE_ATUAL   NUMERIC(9,0),
    ID_CONTA_CORRENTE  NUMERIC(9,0)
);

CREATE TABLE OPERACAO (
    ID      NUMERIC(9,0) NOT NULL,
    LOJA    NUMERIC(9,0) NOT NULL,
    DATA    DATE NOT NULL,
    TIPO    NUMERIC(9,0) NOT NULL,
    STATUS  NUMERIC(9,0) NOT NULL
);

CREATE TABLE OPERACAO_DEVOLUCAO (
    ID                          NUMERIC(9,0) NOT NULL,
    LOJA                        NUMERIC(9,0) NOT NULL,
    VALOR                       NUMERIC(9,0) NOT NULL,
    COD_USU_OPERADOR            VARCHAR(50) NOT NULL,
    CPF_CNPJ_CLIENTE_TRANSACAO  VARCHAR(18) NOT NULL
);

CREATE TABLE OPERACAO_PEDIDO (
    ID                          NUMERIC(9,0) NOT NULL,
    LOJA                        NUMERIC(9,0) NOT NULL,
    VALOR                       NUMERIC(18,2) NOT NULL,
    COD_USU_OPERADOR            VARCHAR(50),
    COD_USU_VENDEDOR            VARCHAR(50),
    DESCONTO                    NUMERIC(18,2),
    CPF_CNPJ_CLIENTE_TRANSACAO  VARCHAR(18),
    LOJA_TRANSACAO              NUMERIC(9,0),
    COMPONENTE_TRANSACAO        NUMERIC(9,0),
    NUM_TRANSACAO               NUMERIC(9,0),
    DATA_TRANSACAO              DATE
);

CREATE TABLE PARAMETROS (
    CHAVE  VARCHAR(50) NOT NULL,
    VALOR  VARCHAR(255)
);

CREATE TABLE PARC_EVE_ITEM_PAG_CHEQUE_PRE (
    LOJA                NUMERIC(9,0) NOT NULL,
    COMPONENTE          NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO       NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO      DATE NOT NULL,
    NUM_EVENTO          NUMERIC(9,0) NOT NULL,
    NUM_PARCELA         NUMERIC(9,0) NOT NULL,
    CPF_CNPJ            VARCHAR(50),
    NUMERO_CHEQUE       VARCHAR(50),
    NUMERO_CHEQUE_LIDO  VARCHAR(50),
    AGENCIA             VARCHAR(50),
    BANCO               VARCHAR(50),
    CONTA               VARCHAR(50),
    VALOR               NUMERIC(18,2),
    DATA                TIMESTAMP,
    ENTRADA             VARCHAR(50)
);

CREATE TABLE PARCELA_PLAN_PAGTO_CHEQUE_PRE (
    ID_PLANO             NUMERIC(9,0) NOT NULL,
    NUM_ENTRADA          NUMERIC(9,0) NOT NULL,
    PERCENTAGEM_PARCELA  NUMERIC(18,2),
    QTD_DIAS             NUMERIC(9,0),
    DATA_PROGRAMADA      DATE
);

CREATE TABLE MACRO_OPERACAO(
    ID                   NUMERIC(9,0) NOT NULL,
    DESCRICAO VARCHAR(50)
);

CREATE TABLE PERFIL_MACRO_OPERACAO (
    ID_PERFIL          NUMERIC(9,0) NOT NULL,
    ID_MACRO_OPERACAO  NUMERIC(9,0) NOT NULL
);

CREATE TABLE PERFIL_USUARIO (
    ID                  NUMERIC(9,0) NOT NULL,
    ID_PERFIL_SUPERIOR  NUMERIC(9,0),
    DESCRICAO           VARCHAR(20),
    PERCENTUAL_DESC     NUMERIC(18,2)
);

CREATE TABLE PLANO_PAGAMENTO (
    ID                    NUMERIC(9,0) NOT NULL,
    DESCRICAO             VARCHAR(50),
    STATUS                VARCHAR(1),
    VALOR_MIN             NUMERIC(18,2),
    VALOR_MAX             NUMERIC(18,2),
    PERCENTUAL_DESC       NUMERIC(18,2),
    PERCENTUAL_ACRE       NUMERIC(18,2),
    DATA_INICIO_VALIDADE  DATE,
    DATA_FIM_VALIDADE     DATE,
    ID_FORMA              NUMERIC(9,0) NOT NULL
);

CREATE TABLE PLANO_PAGAMENTO_CHEQUE_PRE (
    ID_PLANO             NUMERIC(9,0) NOT NULL,
    PERCENTAGEM_ENTRADA  NUMERIC(18,2)
);

CREATE TABLE PRODUTO (
    ID                  NUMERIC(9,0) NOT NULL,
    CODIGO_EXTERNO      VARCHAR(15) NOT NULL,
    DESCRICAO_COMPLETA  VARCHAR(50) NOT NULL,
    DESCRICAO_COMPACTA  VARCHAR(30) NOT NULL,
    PRECO_PADRAO        NUMERIC(18,2) NOT NULL,
    PRECO_PROMOCAO      NUMERIC(18,2),
    ID_TIPO_PRODUTO     NUMERIC(9,0) NOT NULL,
    ID_UNIDADE          NUMERIC(9,0) NOT NULL,
    ID_IMPOSTO          NUMERIC(9,0) NOT NULL,
    ID_GRUPO_PRODUTO    NUMERIC(9,0) NOT NULL,
    CODIGO_AUTOMACAO    VARCHAR(15) NOT NULL,
    PRECO_COMPRA        NUMERIC(18,2),
    ID_FABRICANTE       NUMERIC(9,0),
    STATUS              VARCHAR(1)
);

CREATE TABLE PRODUTO_ITEM_REGISTRADO (
    LOJA                NUMERIC(9,0) NOT NULL,
    COMPONENTE          NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO       NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO      DATE NOT NULL,
    NUM_EVENTO          NUMERIC(9,0) NOT NULL,
    ID_PRODUTO          NUMERIC(9,0),
    CODIGO_EXTERNO      VARCHAR(50),
    DESCRICAO_COMPLETA  VARCHAR(50),
    PRECO_PADRAO        NUMERIC(18,2),
    PRECO_PRATICADO     NUMERIC(18,2),
    IMP_IMPRESSORA      VARCHAR(50),
    PERCENTUAL          NUMERIC(18,2),
    TIPO                NUMERIC(9,0),
    UNIDADE             VARCHAR(50)
);

CREATE TABLE TIPO_PRODUTO (
    ID         NUMERIC(9,0) NOT NULL,
    DESCRICAO  VARCHAR(50)
);

CREATE TABLE TOTALIZADORES_NAO_FISCAIS (
    ID          NUMERIC(9,0) NOT NULL,
    VALOR       NUMERIC(18,2) NOT NULL,
    CONTADOR    NUMERIC(9,0) NOT NULL,
    IMPRESSORA  VARCHAR(50)
);

CREATE TABLE TRANSACAO (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    TIPO_TRANSACAO  NUMERIC(9,0) NOT NULL,
    STATUS          VARCHAR(2) NOT NULL
);

CREATE TABLE TRANSACAO_ABERTURA (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    GT_INICIO            NUMERIC(18,2)
);

CREATE TABLE TRANSACAO_CANCELAMENTO (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    LOJA_CANC            NUMERIC(9,0),
    COMPONENTE_CANC      NUMERIC(9,0),
    NUM_TRANSACAO_CANC   NUMERIC(9,0),
    DATA_TRANSACAO_CANC  DATE,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    NUMERO_CUPOM         VARCHAR(50)
);

CREATE TABLE TRANSACAO_ENTRADA_OPERADOR (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50) NOT NULL,
    COD_USU_OPERADOR     VARCHAR(50) NOT NULL,
    FUNDO_TROCO          NUMERIC(18,2) NOT NULL
);

CREATE TABLE TRANSACAO_FECHAMENTO_X (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    COD_USU_OPERADOR     VARCHAR(50)
);

CREATE TABLE TRANSACAO_FECHAMENTO_Z (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    GT_FIM               NUMERIC(18,2)
);

CREATE TABLE TRANSACAO_PAGAMENTO (
    LOJA              NUMERIC(9,0) NOT NULL,
    COMPONENTE        NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO     NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO    DATE NOT NULL,
    VALOR             NUMERIC(18,2) NOT NULL,
    DESCONTO          NUMERIC(18,2),
    ACRESSIMO         NUMERIC(18,2),
    COD_USU_OPERADOR  VARCHAR(50) NOT NULL,
    DATA_HORA_INICIO  TIMESTAMP,
    DATA_HORA_FIM     TIMESTAMP,
    SITUACAO          VARCHAR(1) NOT NULL
);

CREATE TABLE TRANSACAO_PAGTO_CARTAO_PROPRIO (
    LOJA            NUMERIC(9,0) NOT NULL,
    COMPONENTE      NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO   NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO  DATE NOT NULL,
    CPFCNPJ         VARCHAR(50) NOT NULL
);

CREATE TABLE TRANSACAO_RESUPRIMENTO (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    VALOR                NUMERIC(18,2) NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    COD_USU_OPERADOR     VARCHAR(50),
    NUMERO_CUPOM         VARCHAR(50) NOT NULL
);

CREATE TABLE TRANSACAO_SANGRIA (
    LOJA                 NUMERIC(9,0) NOT NULL,
    COMPONENTE           NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO        NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO       DATE NOT NULL,
    COD_USU_AUTORIZADOR  VARCHAR(50),
    COD_USU_OPERADOR     VARCHAR(50),
    VALOR                NUMERIC(18,2) NOT NULL,
    NUMERO_CUPOM         VARCHAR(50) NOT NULL
);

CREATE TABLE TRANSACAO_VENDA (
    LOJA                        NUMERIC(9,0) NOT NULL,
    COMPONENTE                  NUMERIC(9,0) NOT NULL,
    NUM_TRANSACAO               NUMERIC(9,0) NOT NULL,
    DATA_TRANSACAO              DATE NOT NULL,
    COD_USU_VENDEDOR            VARCHAR(50),
    COD_USU_OPERADOR            VARCHAR(50),
    DATA_HORA_INICIO            TIMESTAMP,
    DATA_HORA_FIM               TIMESTAMP,
    VALOR_TROCO                 NUMERIC(18,2),
    COD_FORMA_TROCO             NUMERIC(18,0),
    NUMERO_CUPOM                VARCHAR(50),
    VALOR_CUPOM                 NUMERIC(18,2),
    DESCONTO_CUPOM              NUMERIC(18,2),
    SITUACAO                    VARCHAR(1),
    COMISSAO_USU_VENDEDOR       NUMERIC(18,2),
    CPF_CNPJ_CLIENTE_TRANSACAO  VARCHAR(18)
);

CREATE TABLE UNIDADE (
    ID                 NUMERIC(9,0) NOT NULL,
    DESCRICAO          VARCHAR(50) NOT NULL,
    DESCRICAO_DISPLAY  VARCHAR(50) NOT NULL,
    ABREVIACAO         VARCHAR(50) NOT NULL
);

CREATE TABLE USUARIO (
    ID         NUMERIC(9,0) NOT NULL,
    NOME       VARCHAR(50),
    ID_PERFIL  NUMERIC(9,0),
    SENHA      VARCHAR(20)
);

CREATE TABLE VENDEDOR (
    ID_USUARIO  NUMERIC(9,0) NOT NULL,
    COMISSAO    NUMERIC(18,2)
);

CREATE TABLE PLANO_PAGAMENTO_AVISTA (
	ID_PLANO NUMERIC(18, 0) NOT NULL 
);

CREATE TABLE PARCELA_PLAN_PAGTO_APRAZO (
	ID_PLANO            NUMERIC(18, 0) NOT NULL,
	NUM_ENTRADA         INTEGER NOT NULL,
	PERCENTAGEM_PARCELA NUMERIC(18, 0),
	QTD_DIAS            INTEGER,
	DATA_PROGRAMADA     VARCHAR(1)
);

CREATE TABLE PLANO_PAGAMENTO_APRAZO (
	ID_PLANO NUMERIC(18, 0) NOT NULL,
	PERCENTAGEM_ENTRADA NUMERIC(18, 2)
);

/******************************************************************************/
/***                           Unique Constraints                           ***/
/******************************************************************************/

ALTER TABLE PRODUTO ADD CONSTRAINT PK_PRODUTO_CODIGO_EXTERNO UNIQUE (CODIGO_EXTERNO);


/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE ACUMULADOR_NAO_FISCAL ADD CONSTRAINT PK_ACUMULADOR_NAO_FISCAL PRIMARY KEY (ID);
ALTER TABLE AUTORIZADORA ADD CONSTRAINT PK_AUTORIZADORA PRIMARY KEY (ID);
ALTER TABLE CLIENTE_TRANSACAO ADD CONSTRAINT PK__CLIENTE_TRANSACA__1AF3F935 PRIMARY KEY (CPF_CNPJ);
ALTER TABLE COMPONENTE ADD CONSTRAINT PK_COMPONENTE PRIMARY KEY (ID);
ALTER TABLE CONTROLE ADD PRIMARY KEY (CHAVE);
ALTER TABLE EVENTO_ITEM_PAGAMENTO ADD CONSTRAINT PK_EVENTO_PAGAMENTO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAGAMENTO_CHEQUE ADD CONSTRAINT PK_EVENTO_ITEM_PAGAMENTO_CHEQUE PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAGAMENTO_TROCA ADD CONSTRAINT PK_EVENTO_ITEM_PAGAMENTO_TROCA PRIMARY KEY (LOJA, COMPONENTE, DATA_TRANSACAO, NUM_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CARTAO_OFF ADD CONSTRAINT PK_EVENTO_ITEM_PAG_CARTAO_OFF PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CARTAO_PROPRIO ADD CONSTRAINT PK_EV_ITEM_PAG_CARTAO_PROPRIO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CHEQUE_PRE ADD CONSTRAINT PK_EVENTO_ITEM_PAG_CHEQUE_PRE PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_REGISTRADO ADD CONSTRAINT PK_EVENTO_ITEM_REGISTRADO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_OPERACAO ADD CONSTRAINT PK_EVENTO_OPERACAO PRIMARY KEY (ID, LOJA, NUM_EVENTO);
ALTER TABLE EVENTO_OPERACAO_ITEM_REGISTRADO ADD CONSTRAINT PK_EV_OPERACAO_ITEM_DEVOLUCAO PRIMARY KEY (ID, LOJA, NUM_EVENTO);
ALTER TABLE EVENTO_TRANSACAO ADD CONSTRAINT PK_EVENTO_TRANSACAO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE FORMA_RECEBIMENTO ADD CONSTRAINT PK_FORMA_RECEBIMENTO PRIMARY KEY (ID);
ALTER TABLE GRUPO_PRODUTO ADD CONSTRAINT PK_GRUPO_PRODUTO PRIMARY KEY (ID);
ALTER TABLE IMPOSTO ADD CONSTRAINT PK_IMPOSTO PRIMARY KEY (ID);
ALTER TABLE LOJA ADD CONSTRAINT PK_LOJA PRIMARY KEY (ID);
ALTER TABLE FABRICANTE ADD CONSTRAINT PK_FABRICANTE PRIMARY KEY (ID);
ALTER TABLE OPERACAO ADD CONSTRAINT PK_OPERACAO PRIMARY KEY (ID, LOJA);
ALTER TABLE OPERACAO_DEVOLUCAO ADD CONSTRAINT PK_OPERACAO_DEVOLUCAO PRIMARY KEY (ID, LOJA);
ALTER TABLE OPERACAO_PEDIDO ADD CONSTRAINT PK_OPERACAO_PEDIDO PRIMARY KEY (ID, LOJA);
ALTER TABLE PARAMETROS ADD CONSTRAINT PK_PARAMETROS PRIMARY KEY (CHAVE);
ALTER TABLE PARCELA_PLAN_PAGTO_CHEQUE_PRE ADD CONSTRAINT PK_PAR_PLAN_PAGATO_CHEQUE_PRE PRIMARY KEY (ID_PLANO, NUM_ENTRADA);
ALTER TABLE PARC_EVE_ITEM_PAG_CHEQUE_PRE ADD CONSTRAINT PK_PARC_EVE_ITEM_PAG_CHEQUE_PRE PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO, NUM_PARCELA);
ALTER TABLE PERFIL_MACRO_OPERACAO ADD PRIMARY KEY (ID_PERFIL, ID_MACRO_OPERACAO);
ALTER TABLE PERFIL_USUARIO ADD PRIMARY KEY (ID);
ALTER TABLE PLANO_PAGAMENTO ADD CONSTRAINT PK_PLANO_PAGAMENTO PRIMARY KEY (ID);
ALTER TABLE PLANO_PAGAMENTO_CHEQUE_PRE ADD CONSTRAINT PK_FORMA PRIMARY KEY (ID_PLANO);
ALTER TABLE PRODUTO ADD CONSTRAINT PK_PRODUTO PRIMARY KEY (ID);
ALTER TABLE PRODUTO_ITEM_REGISTRADO ADD CONSTRAINT PK_EVENTO_PRODUTO_ITEM_REGIST PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE TIPO_PRODUTO ADD CONSTRAINT PK_TIPO_PRODUTO PRIMARY KEY (ID);
ALTER TABLE TOTALIZADORES_NAO_FISCAIS ADD CONSTRAINT PK_TOTALIZADORES_NAO_FISCAIS PRIMARY KEY (ID);
ALTER TABLE TRANSACAO ADD CONSTRAINT PK_TRANSACAO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_ABERTURA ADD CONSTRAINT PK_TRANSACAO_ABERTURA PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_CANCELAMENTO ADD CONSTRAINT PK_TRANSACAO_CANCELAMENTO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_ENTRADA_OPERADOR ADD CONSTRAINT PK_TRANSACAO_ENTRADA_OPERADOR PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_FECHAMENTO_X ADD CONSTRAINT PK_TRANSACAO_FECHAMENTO_X PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_FECHAMENTO_Z ADD CONSTRAINT PK_TRANSACAO_FECHAMENTO_Z PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_PAGAMENTO ADD CONSTRAINT PK_TRANSACAO_PAGAMENTO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_PAGTO_CARTAO_PROPRIO ADD CONSTRAINT PK_TRANS_PAGTO_CARTAO_PROPRIO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_RESUPRIMENTO ADD CONSTRAINT PK_TRANS_RESUPRIMENTO PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_SANGRIA ADD CONSTRAINT PK_TRANSACAO_SANGRIA PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_VENDA ADD CONSTRAINT PK_TRANSACAO_VENDA PRIMARY KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE UNIDADE ADD CONSTRAINT PK_UNIDADE PRIMARY KEY (ID);
ALTER TABLE USUARIO ADD PRIMARY KEY (ID);
ALTER TABLE VENDEDOR ADD CONSTRAINT PK_VENDEDOR PRIMARY KEY (ID_USUARIO);
ALTER TABLE MACRO_OPERACAO ADD CONSTRAINT PK_MACRO_OPERACAO PRIMARY KEY (ID);
ALTER TABLE PLANO_PAGAMENTO_AVISTA  ADD CONSTRAINT PK_PLANO_PAGAMENTO_AVISTA PRIMARY KEY (ID_PLANO);
ALTER TABLE PLANO_PAGAMENTO_APRAZO  ADD CONSTRAINT PK_PLANO_PAGAMENTO_APRAZO PRIMARY KEY (ID_PLANO);
ALTER TABLE PARCELA_PLAN_PAGTO_APRAZO ADD CONSTRAINT PK_PARCELA_PLAN_PAGTO_APRAZO PRIMARY KEY (ID_PLANO,NUM_ENTRADA);


/******************************************************************************/
/***                              Foreign Keys                              ***/
/******************************************************************************/

ALTER TABLE COMPONENTE ADD CONSTRAINT FK_CP_LJ FOREIGN KEY (ID_LOJA) REFERENCES LOJA (ID);
ALTER TABLE EVENTO_ITEM_PAGAMENTO ADD CONSTRAINT EVENTO_PAGTO_EVENTO_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAGAMENTO_CHEQUE ADD CONSTRAINT FK_EV_IT_PAG_EV_IT_PAG_CHEQUE FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAGAMENTO_TROCA ADD CONSTRAINT FK_EV_IT_PAG_TROCA_EV_IT_PAG FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CARTAO_OFF ADD CONSTRAINT EV_IT_PAG_EV_IT_PAG_CARTAO_OFF FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CARTAO_PROPRIO ADD CONSTRAINT EV_IT_PAG_EV_IT_PAG_CART_PROPR FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_PAG_CHEQUE_PRE ADD CONSTRAINT FK_EV_IT_PAG_EV_IT_PAG_CHE_PRE FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_ITEM_REGISTRADO ADD CONSTRAINT FK_EVENTO_TRANS_EVENTO_ITEM_REG FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE EVENTO_OPERACAO ADD CONSTRAINT FK_EVENTO_OPER_OPER FOREIGN KEY (ID, LOJA) REFERENCES OPERACAO (ID, LOJA);
ALTER TABLE EVENTO_OPERACAO_ITEM_REGISTRADO ADD CONSTRAINT FK_EV_OPER_ITEM_REG_EV_OPER FOREIGN KEY (ID, LOJA, NUM_EVENTO) REFERENCES EVENTO_OPERACAO (ID, LOJA, NUM_EVENTO);
ALTER TABLE EVENTO_TRANSACAO ADD CONSTRAINT FK_TRANSACAO_EVENTO_TRANSACAO FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE FORMA_RECEBIMENTO ADD CONSTRAINT FK_FORMA_RECEBTO_FORMA_RECEBTO FOREIGN KEY (ID_FORMA_TROCO) REFERENCES FORMA_RECEBIMENTO (ID);
ALTER TABLE GRUPO_PRODUTO ADD CONSTRAINT GRUPO_PRODUTO_GRUPO_PRODUTO FOREIGN KEY (ID_GRUPO_SUPERIOR) REFERENCES GRUPO_PRODUTO (ID);
ALTER TABLE OPERACAO_DEVOLUCAO ADD CONSTRAINT FK_OPER_DEVOLUCAO_OPER FOREIGN KEY (ID, LOJA) REFERENCES OPERACAO (ID, LOJA);
ALTER TABLE OPERACAO_DEVOLUCAO ADD CONSTRAINT OPER_DEVOLUCAO_CLI_TRANSACAO FOREIGN KEY (CPF_CNPJ_CLIENTE_TRANSACAO) REFERENCES CLIENTE_TRANSACAO (CPF_CNPJ);
ALTER TABLE OPERACAO_PEDIDO ADD CONSTRAINT FK_OPERACAO_PEDIDO_OPERACAO FOREIGN KEY (ID, LOJA) REFERENCES OPERACAO (ID, LOJA);
ALTER TABLE OPERACAO_PEDIDO ADD CONSTRAINT FK_OPERA_PEDIDO_CLI_TRANSACAO FOREIGN KEY (CPF_CNPJ_CLIENTE_TRANSACAO) REFERENCES CLIENTE_TRANSACAO (CPF_CNPJ);
ALTER TABLE OPERACAO_PEDIDO ADD CONSTRAINT FK_OPER_PEDIDO_TRANS_VENDA FOREIGN KEY (LOJA_TRANSACAO, COMPONENTE_TRANSACAO, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO_VENDA (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE PARCELA_PLAN_PAGTO_CHEQUE_PRE ADD CONSTRAINT FK_PLAN_PAG_CHEQ_PRE_PARC FOREIGN KEY (ID_PLANO) REFERENCES PLANO_PAGAMENTO_CHEQUE_PRE (ID_PLANO);
ALTER TABLE PARC_EVE_ITEM_PAG_CHEQUE_PRE ADD CONSTRAINT FK_E_ITPG_CHPR_PAR_E_ITPG_CHPR FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_PAG_CHEQUE_PRE (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE PERFIL_MACRO_OPERACAO ADD FOREIGN KEY (ID_PERFIL) REFERENCES PERFIL_USUARIO (ID);
ALTER TABLE PERFIL_MACRO_OPERACAO ADD FOREIGN KEY (ID_MACRO_OPERACAO) REFERENCES MACRO_OPERACAO (ID);
ALTER TABLE PERFIL_USUARIO ADD FOREIGN KEY (ID_PERFIL_SUPERIOR) REFERENCES PERFIL_USUARIO (ID);
ALTER TABLE PLANO_PAGAMENTO ADD CONSTRAINT FK_PLANO_PAGTO_FORMA_RECEBTO FOREIGN KEY (ID_FORMA) REFERENCES FORMA_RECEBIMENTO (ID);
ALTER TABLE PLANO_PAGAMENTO_CHEQUE_PRE ADD CONSTRAINT FK_PLAN_PAG_PLAN_PAG_CHEQ_PRE FOREIGN KEY (ID_PLANO) REFERENCES PLANO_PAGAMENTO (ID);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_PRODUTO_IMPOSTO FOREIGN KEY (ID_IMPOSTO) REFERENCES IMPOSTO (ID);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_PRODUTO_TIPO_PRODUTO FOREIGN KEY (ID_TIPO_PRODUTO) REFERENCES TIPO_PRODUTO (ID);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_PRODUTO_UNIDADE FOREIGN KEY (ID_UNIDADE) REFERENCES UNIDADE (ID);
ALTER TABLE PRODUTO ADD CONSTRAINT PRODUTO_GRUPO_PRODUTO FOREIGN KEY (ID_GRUPO_PRODUTO) REFERENCES GRUPO_PRODUTO (ID);
ALTER TABLE PRODUTO_ITEM_REGISTRADO ADD CONSTRAINT FK_EV_ITEM_REG_EV_PROD_ITEM_REG FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO) REFERENCES EVENTO_ITEM_REGISTRADO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO, NUM_EVENTO);
ALTER TABLE TRANSACAO_ABERTURA ADD CONSTRAINT FK_TRANS_ABERTURA_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_CANCELAMENTO ADD CONSTRAINT FK_TRANS_CANC_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_ENTRADA_OPERADOR ADD CONSTRAINT FK_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_FECHAMENTO_X ADD CONSTRAINT FK_TRANS_FECHAMENTO_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_FECHAMENTO_Z ADD CONSTRAINT FK_TRANS_FECHAMENTO_Z_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_PAGAMENTO ADD CONSTRAINT FK_TRANS_PAGTO_TRANSACAO FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_PAGTO_CARTAO_PROPRIO ADD CONSTRAINT FK_TRA_PAGT_TRA_PAGT_CART_PROP FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO_PAGAMENTO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_RESUPRIMENTO ADD CONSTRAINT FK_TRANS_RESUPRIMENTO_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_SANGRIA ADD CONSTRAINT FK_TRANS_SANGRIA_TRANS FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_VENDA ADD CONSTRAINT FK_TRANS_TRANS_VENDA FOREIGN KEY (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO) REFERENCES TRANSACAO (LOJA, COMPONENTE, NUM_TRANSACAO, DATA_TRANSACAO);
ALTER TABLE TRANSACAO_VENDA ADD CONSTRAINT FK_TRANS_VENDA_CLIENTE_TRANS FOREIGN KEY (CPF_CNPJ_CLIENTE_TRANSACAO) REFERENCES CLIENTE_TRANSACAO (CPF_CNPJ);
ALTER TABLE USUARIO ADD FOREIGN KEY (ID_PERFIL) REFERENCES PERFIL_USUARIO (ID);
ALTER TABLE VENDEDOR ADD CONSTRAINT FK_VENDEDOR_USUARIO FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO (ID);
ALTER TABLE PRODUTO ADD CONSTRAINT FK_PRODUTO_FABRICANTE FOREIGN KEY (ID_FABRICANTE) REFERENCES FABRICANTE(ID);
ALTER TABLE PLANO_PAGAMENTO_AVISTA ADD CONSTRAINT FK_PLAN_PAG_AVISTA_PLAN_PAG FOREIGN KEY(ID_PLANO) REFERENCES PLANO_PAGAMENTO(ID);
ALTER TABLE PLANO_PAGAMENTO_APRAZO ADD CONSTRAINT FK_PLAN_PAG_APRAZO_PLAN_PAG FOREIGN KEY(ID_PLANO) REFERENCES PLANO_PAGAMENTO(ID);
ALTER TABLE PARCELA_PLAN_PAGTO_APRAZO ADD CONSTRAINT FK_PAR_PLAN_PAG_APRAZO_PLAN_PAG_APRAZO FOREIGN KEY(ID_PLANO) REFERENCES PLANO_PAGAMENTO_APRAZO(ID_PLANO);


INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('ATUALIZA_COMISSAO_VENDEDOR','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('COMPONENTE','1');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('IMPRIME_MOVIMENTO_DIA','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('IMPRIME_RECIBO','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('IMPRIME_RECIBO_PAGAMENTO','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('LOGO_CLIENTE','C:\\pdv\\logo.png');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('LOJA','1');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('LOTE','3');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('PEDE_VENDEDOR','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('SOLICITA_CLIENTE','true');
INSERT INTO PARAMETROS (CHAVE,VALOR) VALUES('VERSAO','01.00.00');

alter table evento_item_pag_cartao_proprio add column CPFCNPJ varchar(50);
ALTER TABLE PRODUTO ADD COLUMN ENQUADRAMENTO VARCHAR(1) NOT NULL

CREATE TABLE PRODUTO_OPERAC_ITEM_REGISTRADO(
	ID NUMERIC(9,0) NOT NULL,
	LOJA NUMERIC(9,0) NOT NULL,
	NUM_EVENTO NUMERIC(9,0) NOT NULL,
	ID_PRODUTO NUMERIC(9,0) ,
	CODIGO_EXTERNO varchar(50) ,
	DESCRICAO_COMPLETA varchar(50) ,
	PRECO_PADRAO NUMERIC(18,2) ,
	PRECO_PRATICADO NUMERIC(18,2) ,
	IMP_IMPRESSORA varchar(50) ,
	PERCENTUAL NUMERIC(18,2) ,
	TIPO NUMERIC(9,0) ,
	UNIDADE varchar(50) );

ALTER TABLE PRODUTO_OPERAC_ITEM_REGISTRADO ADD  CONSTRAINT PK_PRODUTO_EVENTO_OPERCAO PRIMARY KEY(ID,LOJA,NUM_EVENTO)

ALTER TABLE PRODUTO_OPERAC_ITEM_REGISTRADO ADD CONSTRAINT FK_PROD_EV_OP_EV_OP_ITEM_REG FOREIGN KEY(ID, LOJA, NUM_EVENTO) REFERENCES EVENTO_OPERACAO_ITEM_REGISTRADO (ID, LOJA, NUM_EVENTO)